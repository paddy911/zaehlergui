version: 1.2

AppDir:
  path: ./AppDir

  app_info:
    id: de.beispiel.zaehlerstaende
    name: ZÃ¤hlerstÃ¤nde Verwaltung
    icon: zaehlerstaende

    # ðŸ”¹ Version kommt aus GitHub Actions (Git-Tag oder Fallback)
    version: "${APP_VERSION}"

    exec: usr/bin/python3
    exec_args: "-m zaehlerstaende"

  files:
    src/zaehlerstaende: usr/lib/python3/dist-packages/zaehlerstaende
    assets/zaehler.png: usr/share/icons/hicolor/256x256/apps/zaehlerstaende.png

  desktop:
    Name: ZÃ¤hlerstÃ¤nde Verwaltung
    Exec: python3 -m zaehlerstaende
    Icon: zaehlerstaende
    Type: Application
    Categories: Utility;

apt:
  arch: amd64
  allow_unauthenticated: true
  sources:
    - sourceline: "deb http://archive.ubuntu.com/ubuntu jammy main universe"

  include:
    - python3
    - python3-gi
    - gir1.2-gtk-4.0
    - libgtk-4-1
    - libglib2.0-0
    - libpango-1.0-0
    - libharfbuzz0b
    - libgraphene-1.0-0

runtime:
  env:
    PYTHONPATH: "$APPDIR/usr/lib/python3/dist-packages:$PYTHONPATH"
